{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Corrections","description":"API pour gérer les corrections d'epreuves"},{"name":"Lecture Courses","description":"Gestion des supports de cours"},{"name":"Videos","description":"Gestion des vidéos pédagogiques (cours video)"},{"name":"Exams","description":"API pour gérer les epreuves"}],"paths":{"/api/videos/{id}":{"get":{"tags":["Videos"],"summary":"Détails d'une vidéo","description":"Retourne une vidéo spécifique par son identifiant","operationId":"getVideoById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Video"}}}}}},"put":{"tags":["Videos"],"operationId":"updateVideo","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"title","in":"query","required":false,"schema":{"type":"string"}},{"name":"description","in":"query","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["Videos"],"summary":"Supprimer un cours vidéo","description":"Supprime un cours vidéo par son identifiant","operationId":"deleteVideo","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/subjects/{id}":{"get":{"tags":["subject-controller"],"operationId":"getSubjectById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Subject"}}}}}},"put":{"tags":["subject-controller"],"operationId":"updateSubject","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subject"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Subject"}}}}}},"delete":{"tags":["subject-controller"],"operationId":"deleteSubject","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/programs/{id}":{"get":{"tags":["program-controller"],"operationId":"getProgramById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Program"}}}}}},"put":{"tags":["program-controller"],"operationId":"updateProgram","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgramRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["program-controller"],"operationId":"deleteProgram","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/faculties/{id}":{"get":{"tags":["faculty-controller"],"operationId":"getFacultyById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Faculty"}}}}}},"put":{"tags":["faculty-controller"],"operationId":"updateFaculty","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Faculty"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Faculty"}}}}}},"delete":{"tags":["faculty-controller"],"operationId":"deleteFaculty","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/departments/{id}":{"get":{"tags":["department-controller"],"operationId":"getDepartmentById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Department"}}}}}},"put":{"tags":["department-controller"],"operationId":"updateDepartment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["department-controller"],"operationId":"deleteDepartment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/courses/{id}":{"get":{"tags":["Lecture Courses"],"summary":"Détails d'un support de  cours","description":"Retourne un support de cours spécifique à partir de son identifiant","operationId":"getCourseById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LectureCourse"}}}}}},"put":{"tags":["Lecture Courses"],"summary":"Met à jour un support cours magistral","description":"Met à jour un support cours magistral avec possibilité de changer le fichier","operationId":"updateLectureCourse","parameters":[{"name":"id","in":"path","description":"ID du cours à mettre à jour","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"lectureCourse":{"$ref":"#/components/schemas/LectureCourse"},"file":{"type":"string","format":"binary","description":"Fichier associé"}},"required":["lectureCourse"]}}}},"responses":{"200":{"description":"Cours mis à jour","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LectureCourse"}}}}}},"delete":{"tags":["Lecture Courses"],"summary":"Supprime un cours magistral","description":"Supprime un cours et son fichier associé","operationId":"deleteLectureCourse","parameters":[{"name":"id","in":"path","description":"ID du cours à supprimer","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Cours supprimé"}}}},"/api/corrections/{id}":{"get":{"tags":["Corrections"],"summary":"Récupérer une correction par ID","description":"Retourne une correction correspondant à l'ID fourni","operationId":"getCorrectionById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Correction trouvée","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Correction"}}}},"404":{"description":"Correction non trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Correction"}}}}}},"put":{"tags":["Corrections"],"summary":"Mettre à jour une correction","description":"Mettre à jour une correction existante avec possibilité de changer le fichier.","operationId":"updateCorrection","parameters":[{"name":"id","in":"path","description":"ID de la correction à mettre à jour","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"correction":{"$ref":"#/components/schemas/Correction"},"file":{"type":"string","format":"binary","description":"Fichier corrigé à uploader"}},"required":["correction"]}}}},"responses":{"200":{"description":"Correction mise à jour avec succès","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Correction"}}}},"404":{"description":"Correction non trouvée","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Correction"}}}},"500":{"description":"Erreur serveur","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Correction"}}}}}},"delete":{"tags":["Corrections"],"summary":"Supprime une correction","description":"Supprime une correction ainsi que son fichier associé.","operationId":"deleteCorrection","parameters":[{"name":"id","in":"path","description":"ID de la correction à supprimer","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Correction supprimée"},"404":{"description":"Correction non trouvée"}}}},"/api/videos":{"get":{"tags":["Videos"],"summary":"Liste toutes les vidéos","description":"Retourne toutes les vidéos enregistrées","operationId":"getAllVideos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Video"}}}}}}},"post":{"tags":["Videos"],"summary":"Créer un cours vidéo","description":"Crée un cours vidéo avec upload de fichier vidéo","operationId":"createVideo","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"duration","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"price","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"subjectId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/subjects":{"get":{"tags":["subject-controller"],"operationId":"getAllSubjects","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Subject"}}}}}}},"post":{"tags":["subject-controller"],"operationId":"createSubject","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Subject"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Subject"}}}}}}},"/api/resources/upload":{"post":{"tags":["resource-controller"],"operationId":"uploadResourceFile","parameters":[{"name":"folder","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/programs":{"get":{"tags":["program-controller"],"operationId":"getAllPrograms","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Program"}}}}}}},"post":{"tags":["program-controller"],"operationId":"createProgram","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProgramRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/faculties":{"get":{"tags":["faculty-controller"],"operationId":"getAllFaculties","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Faculty"}}}}}}},"post":{"tags":["faculty-controller"],"operationId":"createFaculty","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Faculty"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Faculty"}}}}}}},"/api/exams":{"get":{"tags":["Exams"],"summary":"Lister tous les epreuves","description":"Récupère la liste complète des epreuves","operationId":"getAllExams","responses":{"200":{"description":"Liste des epreuves récupérée","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exam"}}}}}},"post":{"tags":["Exams"],"operationId":"createExam","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"type","in":"query","required":true,"schema":{"type":"string"}},{"name":"year","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"subjectId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/departments":{"get":{"tags":["department-controller"],"operationId":"getAllDepartment","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Department"}}}}}}},"post":{"tags":["department-controller"],"operationId":"createDepartment","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepartmentRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/courses":{"get":{"tags":["Lecture Courses"],"summary":"Liste tous les supports de cours word et pdf","description":"Retourne tous les supports de cours enregistrés","operationId":"getAllCourses","responses":{"200":{"description":"Liste des cours récupérée","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LectureCourse"}}}}}},"post":{"tags":["Lecture Courses"],"summary":"Créer un support de  cours","description":"Crée un support de cours pour une matiere specifique  avec upload de fichier associé","operationId":"createCourse","parameters":[{"name":"title","in":"query","required":true,"schema":{"type":"string"}},{"name":"description","in":"query","required":true,"schema":{"type":"string"}},{"name":"price","in":"query","required":true,"schema":{"type":"number","format":"double"}},{"name":"subjectId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}},"required":["file"]}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/corrections":{"get":{"tags":["Corrections"],"summary":"Lister toutes les corrections","description":"Récupère la liste complète des corrections disponibles","operationId":"getAllCorrections","responses":{"200":{"description":"Liste des corrections récupérée","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Correction"}}}}}},"post":{"tags":["Corrections"],"summary":"Créer une nouvelle correction","description":"Crée une correction liée à un examen donné avec un fichier uploadé","operationId":"createCorrection","parameters":[{"name":"title","in":"query","description":"Titre de la correction","required":true,"schema":{"type":"string"}},{"name":"price","in":"query","description":"Prix de la correction","required":true,"schema":{"type":"number","format":"double"}},{"name":"examId","in":"query","description":"ID de l'examen lié","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary","description":"Fichier de la correction au format PDF ou DOCX"}},"required":["file"]}}}},"responses":{"200":{"description":"Correction créée avec succès","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Requête invalide (erreur lors de la création)","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/resources":{"get":{"tags":["resource-controller"],"operationId":"getAllResources","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Resource"}}}}}}}},"/api/resources/{id}":{"get":{"tags":["resource-controller"],"operationId":"getResourceById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Resource"}}}}}},"delete":{"tags":["resource-controller"],"operationId":"deleteResource","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/exams/{id}":{"get":{"tags":["Exams"],"summary":"Récupérer une epreuve par ID","description":"Retourne une epreuve  correspondant à l'ID fourni","operationId":"getExamById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Examen trouvé","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Exam"}}}},"404":{"description":"Epreuve  non trouvé","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Exam"}}}}}},"delete":{"tags":["Exams"],"operationId":"deleteExam","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/auth/me":{"get":{"tags":["auth-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"Correction":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"resourceUrl":{"type":"string"},"title":{"type":"string"},"size":{"type":"integer","format":"int64"},"numberOfDownload":{"type":"integer","format":"int64"},"numberOfView":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"},"price":{"type":"number","format":"double"},"exam":{"$ref":"#/components/schemas/Exam"},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}},"Department":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"programs":{"type":"array","items":{"$ref":"#/components/schemas/Program"}},"faculty":{"$ref":"#/components/schemas/Faculty"}}},"Exam":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"resourceUrl":{"type":"string"},"title":{"type":"string"},"size":{"type":"integer","format":"int64"},"numberOfDownload":{"type":"integer","format":"int64"},"numberOfView":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"},"type":{"type":"string","enum":["CONTINUOUS_ASSESSMENT","MAIN_EXAM","RESIT"]},"year":{"type":"integer","format":"int32"},"subject":{"$ref":"#/components/schemas/Subject"},"correction":{"$ref":"#/components/schemas/Correction"}}},"Faculty":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"departments":{"type":"array","items":{"$ref":"#/components/schemas/Department"}}}},"LectureCourse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"resourceUrl":{"type":"string"},"title":{"type":"string"},"size":{"type":"integer","format":"int64"},"numberOfDownload":{"type":"integer","format":"int64"},"numberOfView":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"},"description":{"type":"string"},"price":{"type":"number","format":"double"},"subject":{},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}},"Payment":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"user":{"$ref":"#/components/schemas/User"},"video":{"$ref":"#/components/schemas/Video"},"correction":{"$ref":"#/components/schemas/Correction"},"lectureCourse":{"$ref":"#/components/schemas/LectureCourse"},"semester":{},"subject":{}}},"Program":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"department":{"$ref":"#/components/schemas/Department"},"semester":{"type":"array","items":{"$ref":"#/components/schemas/Semester"}}}},"Semester":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"program":{"$ref":"#/components/schemas/Program"},"subjects":{"type":"array","items":{"$ref":"#/components/schemas/Subject"}}}},"Subject":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"semester":{"$ref":"#/components/schemas/Semester"},"exams":{"type":"array","items":{"$ref":"#/components/schemas/Exam"}},"videos":{"type":"array","items":{"$ref":"#/components/schemas/Video"}},"lectureCourses":{"type":"array","items":{"$ref":"#/components/schemas/LectureCourse"}},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["STUDENT","ADMIN"]},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}},"Video":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"resourceUrl":{"type":"string"},"title":{"type":"string"},"size":{"type":"integer","format":"int64"},"numberOfDownload":{"type":"integer","format":"int64"},"numberOfView":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"},"description":{"type":"string"},"duration":{"type":"number","format":"double"},"price":{"type":"number","format":"double"},"subject":{},"payments":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}},"ProgramRequest":{"type":"object","properties":{"name":{"type":"string"},"departmentId":{"type":"integer","format":"int64"}}},"DepartmentRequest":{"type":"object","properties":{"name":{"type":"string"},"facultyId":{"type":"integer","format":"int64"}}},"RegisterDTO":{"type":"object","properties":{"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"LoginDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"Resource":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"resourceUrl":{"type":"string"},"title":{"type":"string"},"size":{"type":"integer","format":"int64"},"numberOfDownload":{"type":"integer","format":"int64"},"numberOfView":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date"}}}}}}